<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Soft Playlist üé∂</title>

<style>
  html, body {
    height: 100%;
    margin: 0;
    font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  }

  body {
    background: url("assets/images/soft-bg.png") center/cover no-repeat;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .overlay {
    position: absolute;
    inset: 0;
    background: rgba(255,255,255,0.6);
  }

  .card {
    position: relative;
    z-index: 2;
    width: 90%;
    max-width: 420px;
    background: rgba(255,255,255,0.85);
    border-radius: 24px;
    padding: 26px 22px;
    box-shadow: 0 30px 70px rgba(0,0,0,0.12);
    animation: rise 0.9s ease;
  }

  @keyframes rise {
    from { opacity: 0; transform: translateY(30px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  h2 {
    text-align: center;
    color: #ff6f91;
    font-size: 26px;
    margin-bottom: 8px;
    font-weight: 900;
  }

  .subtitle {
    text-align: center;
    font-size: 15px;
    color: #6b4b5a;
    margin-bottom: 22px;
  }

  .art {
    width: 180px;
    height: 180px;
    margin: 0 auto 22px;
    background: url("assets/images/music-cloud.png") center/contain no-repeat;
  }

  .track {
    background: #fff;
    border-radius: 16px;
    padding: 14px 16px;
    margin-bottom: 14px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    cursor: pointer;
    transition: all 0.25s ease;
  }

  .track.active {
    background: #ffe4ec;
    box-shadow: 0 10px 30px rgba(255,120,160,0.35);
  }

  .track-title {
    font-weight: 800;
    font-size: 16px;
    color: #333;
  }

  .track-artist {
    font-size: 13px;
    color: #777;
    margin-top: 4px;
  }

  .track-desc {
    font-size: 13px;
    color: #999;
    margin-top: 6px;
  }

  .controls {
    text-align: center;
    margin-top: 14px;
  }

  .play-btn {
    background: linear-gradient(90deg,#ff8fb1,#ffb6c1);
    border: none;
    color: #fff;
    font-size: 14px;
    padding: 10px 22px;
    border-radius: 999px;
    font-weight: 900;
    cursor: pointer;
    box-shadow: 0 10px 25px rgba(255,120,160,0.35);
  }

  .progress {
    width: 100%;
    margin-top: 14px;
  }

  .btn {
    display: block;
    margin: 24px auto 0;
    padding: 14px 26px;
    border-radius: 999px;
    border: none;
    background: linear-gradient(90deg,#ff8fb1,#ffb6c1);
    color: #fff;
    font-weight: 900;
    font-size: 15px;
    cursor: pointer;
    box-shadow: 0 12px 30px rgba(255,120,160,0.35);
  }

  .btn:active {
    transform: scale(0.97);
  }
</style>
</head>
<body>

<div class="overlay"></div>

<div class="card">
  <h2>Soft Playlist üéß</h2>
  <div class="subtitle">Songs that feel warm, calm, and safe ‚òÅÔ∏è</div>

  <div class="art"></div>

  <div class="track" onclick="playSong(0)">
    <div class="track-title">Golden Hour</div>
    <div class="track-artist">JVKE</div>
    <div class="track-desc">Light, happy, and full of sunshine energy.</div>
  </div>

  <div class="track" onclick="playSong(1)">
    <div class="track-title">Until I Found You</div>
    <div class="track-artist">Stephen Sanchez</div>
    <div class="track-desc">Soft, gentle, and full of warmth.</div>
  </div>

  <div class="track" onclick="playSong(2)">
    <div class="track-title">Teenage Dream</div>
    <div class="track-artist">Stephen Dawes</div>
    <div class="track-desc">Feels like nostalgia wrapped in calm happiness.</div>
  </div>

  <div class="controls">
    <button class="play-btn" onclick="togglePlay()">Play / Pause üéµ</button>
    <input type="range" class="progress" value="0" step="1">
  </div>

  <button class="btn" onclick="nextPage()">Next üíå</button>
</div>

<audio id="player"></audio>

<script>
  const songs = [
    "assets/audio/golden-hour.mp3",
    "assets/audio/until-i-found-you.mp3",
    "assets/audio/teenage-dream.mp3"
  ];

  const player = document.getElementById("player");
  const tracks = document.querySelectorAll(".track");
  const progress = document.querySelector(".progress");

  let currentIndex = 0;
  let hasStarted = false; // ‚≠ê NEW

  function playSong(index){
    currentIndex = index;
    player.src = songs[currentIndex];
    player.play();
    hasStarted = true;
    highlight();
  }

  function togglePlay(){
    // ‚≠ê FIX: if user presses play without selecting song
    if(!hasStarted){
      playSong(0);
      return;
    }

    if(player.paused){
      player.play();
    } else {
      player.pause();
    }
  }

  function highlight(){
    tracks.forEach(t => t.classList.remove("active"));
    tracks[currentIndex].classList.add("active");
  }

  player.addEventListener("timeupdate", () => {
    progress.max = player.duration || 0;
    progress.value = player.currentTime;
  });

  progress.addEventListener("input", () => {
    player.currentTime = progress.value;
  });

  player.addEventListener("ended", () => {
    currentIndex++;
    if(currentIndex < songs.length){
      playSong(currentIndex);
    }
  });

  function nextPage(){
    player.pause();
    location.href = "page4.html";
  }
</script>

</body>
</html>
